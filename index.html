<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Survey Result Maker</title>
	




	<style>
		.maker {position:relative;width:calc(40% - 4rem);display:inline-block;vertical-align: top;margin-right:4rem;}
		.maker textarea {width:100%;}
		h4{margin-bottom:4px}
		input[type=checkbox] {width: auto;}
		section {display: none;}

		section.active{display: block!important}
		
		input:checked + section {display: block;}
		.result {width:calc(60% - 4rem);display:inline-block;vertical-align: top;}
		iframe {height:100vh; min-height: 940px; width:100%;border:1px solid #ccc;}
		@keyframes spin {
		  0% { transform: translate(-50%, -50%) rotateY(0deg) rotateX(45deg); }
		  50% { transform: translate(-50%, -50%) rotateY(180deg) rotateX(57deg); }
		  100% { transform: translate(-50%, -50%) rotateY(359deg) rotateX(45deg); }
		}

		.spacer{height:30px}
		.spinner {
			display:none;
			position: absolute;
			border: 2px solid rgba(0, 53, 255, 0.74);
			top: 4rem;
			left: 50%;
			border-radius: 50%;
			width: 40px;
			height: 40px;
			opacity: 0.9;
			transform-style: preserve-3d;
			animation: spin 1s linear infinite;
		}
		.spinner.wait {display:block;}
		.mb5{margin-bottom:5px;margin-top:20px;font-family:Arial,Sans-serif;}
		.mt10{margin-top:10px;}
		.greyout{opacity:0.5;user-select: none}
		input{margin-bottom:5px;}
		.small-tag{font-family:Arial,Sans-serif;font-size: 12px;font-weight: 500;line-height: 125%; letter-spacing: -0.14px;text-transform: uppercase;text-transform:uppercase;color: #BA0000;margin-top:5px}
		.hide{display:none}
	</style>
	

</head>
<body>
	<div class="maker">
		<div class="spinner"></div>
		<textarea id="result" cols="30" rows="10"></textarea>
		<form>
			<button id="submit">Make!</button><br><br>


			<div class="newsletter-topic">
				<h4>Newsletter Template</h4>
			
				<label for="morningbrief"><input checked type="radio" id="morningbrief" name="newsletter" value="morningbrief">Survey Result</label>
			

			</div>

			

		

			<div class="spacer"></div>


			<h4>Info</h4>
			<input name="copy-title" type="text" placeholder="Your Title" required><br>
			<input name="copy-preheader" type="text" placeholder="preheader" required><br>
			<input name="copy-date" type="text" placeholder="date"><br>
			<textarea name="copy-editor-message" id="editor-message" type="text" placeholder="Editor's Message" rows="4" cols="50" ></textarea>
			<div class="spacer"></div>

			<div class="small-tag mb5">Content below</div>
			<textarea name="copy-content-1" id="content-text-1" type="text" placeholder="content-text-1" rows="4" cols="50" ></textarea>
			<textarea name="copy-content-2" id="content-text-2" type="text" placeholder="content-text-2" rows="4" cols="50" ></textarea>
			<textarea name="copy-content-3" id="content-text-3" type="text" placeholder="content-text-3" rows="4" cols="50" ></textarea>
			<div class="spacer"></div>

			<div class="small-tag mb5">Button Info</div>
			<input name="copy-button" type="text" placeholder="button text"><br>
			<input name="copy-link" type="text" placeholder="button link"><br>
			<input name="copy-terms" type="text" placeholder="terms for promotion"><br>



				<div class="small-tag mb5">Image Link</div>
			<input name="copy-image" type="text" placeholder="footer image link"><br>
			

	
		</form>
		<br>
		<button id="clear-all">clear all</button><br>
	
	</div>
	<div class="result">
		<iframe frameborder="0"></iframe>
	</div>

	<script>
		(function () {
			document.querySelectorAll('input').forEach(function (field) {
				field.value = localStorage.getItem(field.name)

				field.addEventListener('blur', function (e) {
					// console.log(e.target.name)
					localStorage.setItem(e.target.name, e.target.value);
				})
			})
			document.querySelectorAll('textarea').forEach(function (field) {
				field.value = localStorage.getItem(field.name)

				field.addEventListener('blur', function (e) {
					// console.log(e.target.name)
					localStorage.setItem(e.target.name, e.target.value);
				})
			})

			document.getElementById('clear-all').addEventListener('click', function () {
				document.querySelectorAll('input').forEach(function (field) {field.value = ''})
				document.querySelectorAll('textarea').forEach(function (field) {field.value = ''})
			})
		})()
	</script>
	
</body>
</html>